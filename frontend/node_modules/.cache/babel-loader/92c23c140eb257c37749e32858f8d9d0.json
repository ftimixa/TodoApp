{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Grechka_Mi\\\\Documents\\\\react-express-example-master\\\\frontend\\\\src\\\\TodoApp\\\\containers\\\\todoBody.js\";\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setUsers, setTasks } from '../actions/actionCreator';\nimport TodoInput from '../components/todoInput/todoInput';\nimport TodoList from '../components/todoList/todoList';\nimport AppTitle from '../components/appTitle/appTitle';\nimport classes from './todoBody_style';\n\nconst TodoBody = () => {\n  const users = useSelector(state => state.usersReducer);\n  const tasks = useSelector(state => state.tasksReducer);\n  const dispatch = useDispatch();\n\n  const loadUsers = () => async dispatch => {\n    const users = await fetch(\"/api/users\").then(res => res.json());\n    dispatch(setUsers(users));\n  };\n\n  const loadTasks = () => async dispatch => {\n    const tasks = await fetch(\"/api/tasks\").then(res => res.json());\n    dispatch(setTasks(tasks));\n    console.log('kek');\n  };\n\n  const onAddTask = async task => {\n    await fetch(\"/api/tasks\", {\n      method: \"POST\",\n      headers: {\n        'Accept': 'application/json',\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(task)\n    });\n    loadTasks();\n  };\n\n  useEffect(() => {\n    dispatch(loadTasks());\n    dispatch(loadUsers());\n  }, [dispatch]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.todoBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(AppTitle, {\n    title: \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0437\\u0430\\u0434\\u0430\\u0447\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TodoInput, {\n    users: users,\n    addTask: onAddTask,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TodoList, {\n    tasksList: tasks,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default TodoBody;","map":{"version":3,"sources":["C:/Users/Grechka_Mi/Documents/react-express-example-master/frontend/src/TodoApp/containers/todoBody.js"],"names":["React","useEffect","useDispatch","useSelector","setUsers","setTasks","TodoInput","TodoList","AppTitle","classes","TodoBody","users","state","usersReducer","tasks","tasksReducer","dispatch","loadUsers","fetch","then","res","json","loadTasks","console","log","onAddTask","task","method","headers","body","JSON","stringify","todoBody"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAAQC,QAAR,EAAkBC,QAAlB,QAAiC,0BAAjC;AAEA,OAAOC,SAAP,MAAsB,mCAAtB;AACA,OAAOC,QAAP,MAAqB,iCAArB;AACA,OAAOC,QAAP,MAAqB,iCAArB;AAEA,OAAOC,OAAP,MAAoB,kBAApB;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AAErB,QAAMC,KAAK,GAAGR,WAAW,CAACS,KAAK,IAAIA,KAAK,CAACC,YAAhB,CAAzB;AACA,QAAMC,KAAK,GAAGX,WAAW,CAACS,KAAK,IAAIA,KAAK,CAACG,YAAhB,CAAzB;AAEA,QAAMC,QAAQ,GAAGd,WAAW,EAA5B;;AAEA,QAAMe,SAAS,GAAG,MAAM,MAAOD,QAAP,IAAoB;AAC1C,UAAML,KAAK,GAAG,MAAMO,KAAK,CAAC,YAAD,CAAL,CAAoBC,IAApB,CAAyBC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAAhC,CAApB;AACAL,IAAAA,QAAQ,CAACZ,QAAQ,CAACO,KAAD,CAAT,CAAR;AACD,GAHD;;AAKA,QAAMW,SAAS,GAAG,MAAM,MAAON,QAAP,IAAoB;AAC1C,UAAMF,KAAK,GAAG,MAAMI,KAAK,CAAC,YAAD,CAAL,CAAoBC,IAApB,CAAyBC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAAhC,CAApB;AACAL,IAAAA,QAAQ,CAACX,QAAQ,CAACS,KAAD,CAAT,CAAR;AACAS,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACD,GAJD;;AAMA,QAAMC,SAAS,GAAG,MAAOC,IAAP,IAAgB;AAChC,UAAMR,KAAK,CAAC,YAAD,EAAe;AAC1BS,MAAAA,MAAM,EAAE,MADkB;AAE1BC,MAAAA,OAAO,EAAE;AACP,kBAAU,kBADH;AAEP,wBAAgB;AAFT,OAFiB;AAM1BC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf;AANoB,KAAf,CAAX;AAQFJ,IAAAA,SAAS;AACR,GAVD;;AAYArB,EAAAA,SAAS,CAAC,MAAM;AACde,IAAAA,QAAQ,CAACM,SAAS,EAAV,CAAR;AACAN,IAAAA,QAAQ,CAACC,SAAS,EAAV,CAAR;AACD,GAHQ,EAGN,CAACD,QAAD,CAHM,CAAT;AAKA,sBACE;AAAK,IAAA,SAAS,EAAEP,OAAO,CAACuB,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAC,qEAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAErB,KAAlB;AAAyB,IAAA,OAAO,EAAEc,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,QAAD;AAAU,IAAA,SAAS,EAAEX,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADF;AAOD,CA1CD;;AA4CA,eAAeJ,QAAf","sourcesContent":["import React,{useEffect} from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {setUsers, setTasks} from '../actions/actionCreator';\r\n\r\nimport TodoInput from '../components/todoInput/todoInput';\r\nimport TodoList from '../components/todoList/todoList';\r\nimport AppTitle from '../components/appTitle/appTitle';\r\n\r\nimport classes from './todoBody_style';\r\n\r\nconst TodoBody = () => {\r\n  \r\n  const users = useSelector(state => state.usersReducer);\r\n  const tasks = useSelector(state => state.tasksReducer);\r\n\r\n  const dispatch = useDispatch();\r\n  \r\n  const loadUsers = () => async (dispatch) => {\r\n    const users = await fetch(\"/api/users\").then(res => res.json());\r\n    dispatch(setUsers(users))\r\n  }\r\n\r\n  const loadTasks = () => async (dispatch) => {\r\n    const tasks = await fetch(\"/api/tasks\").then(res => res.json())\r\n    dispatch(setTasks(tasks))\r\n    console.log('kek')\r\n  }\r\n\r\n  const onAddTask = async (task) => {\r\n    await fetch(\"/api/tasks\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-type': 'application/json'\r\n    },\r\n    body: JSON.stringify(task)\r\n  })\r\n  loadTasks()\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch(loadTasks())\r\n    dispatch(loadUsers())\r\n  }, [dispatch])\r\n    \r\n  return (\r\n    <div className={classes.todoBody}>\r\n      <AppTitle title='Список задач' />\r\n      <TodoInput users={users} addTask={onAddTask} />\r\n      <TodoList tasksList={tasks} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TodoBody;"]},"metadata":{},"sourceType":"module"}