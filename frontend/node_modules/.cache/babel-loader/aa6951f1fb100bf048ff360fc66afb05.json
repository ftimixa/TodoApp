{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Grechka_Mi\\\\Documents\\\\react-express-example-master\\\\frontend\\\\src\\\\TodoApp\\\\components\\\\todoInput\\\\todoInput.js\";\nimport React, { Component } from 'react';\nimport { InputBtn } from '../todoBtns/todoBtns';\nimport classes from './todoInput_style';\n\nclass TodoInput extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      task: {\n        id: '',\n        description: '',\n        executor: '',\n        priority: ''\n      },\n      descrError: 'initial',\n      execError: 'initial',\n      priorError: 'initial'\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        task: {\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.validateDescription = () => {\n      const {\n        description\n      } = this.state;\n      let descrError = description === '' ? 'Введите описание' : '';\n      this.setState({\n        descrError\n      });\n    };\n\n    this.validateExecutor = () => {\n      const {\n        executor\n      } = this.state;\n      let execError = executor === '' || executor === 'Не выбрано' ? 'Выберите исполнителя' : '';\n      this.setState({\n        execError\n      });\n    };\n\n    this.validatePriority = () => {\n      const {\n        priority\n      } = this.state;\n      let priorError = +priority.length > 0 && priority >= 0 && priority <= 10 ? '' : 'Задайте приоритет от 0 до 10';\n      this.setState({\n        priorError\n      });\n    };\n\n    this.hintError = name => {\n      return name === 'initial' ? '' : name !== '' ? classes.hintError : classes.hintValid;\n    };\n\n    this.popupHint = name => {\n      return name === 'initial' ? '' : name !== '' ? classes.popupHint : '';\n    };\n\n    this.addTask = e => {\n      e.preventDefault();\n      const {\n        description,\n        executor,\n        priority,\n        descrError,\n        execError,\n        priorError\n      } = this.state;\n      const {\n        addTask\n      } = this.props;\n\n      if (!descrError && description !== '' && !execError && executor !== '' && !priorError && priority !== '') {\n        addTask(new Date().getTime(), description, executor, priority);\n        this.setState({\n          description: '',\n          executor: '',\n          priority: '',\n          descrError: 'initial',\n          execError: 'initial',\n          priorError: 'initial'\n        });\n      }\n\n      if (description === '') {\n        this.setState({\n          descrError: 'Введите описание'\n        });\n      }\n\n      if (executor === '') {\n        this.setState({\n          execError: 'Выберите исполнителя'\n        });\n      }\n\n      if (priority === '') {\n        this.setState({\n          priorError: 'Задайте приоритет от 0 до 10'\n        });\n      }\n    };\n  }\n\n  render() {\n    const {\n      users\n    } = this.props;\n    const {\n      task,\n      descrError,\n      execError,\n      priorError\n    } = this.state;\n    const {\n      description,\n      executor,\n      priority\n    } = {\n      task\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.bodyForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"description\",\n      placeholder: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\",\n      value: description,\n      onKeyUp: this.validateDescription,\n      onBlur: this.validateDescription,\n      onChange: this.handleChange,\n      className: `${this.hintError(descrError)} ${classes.textareaStyle} ${classes.textareaDescription}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      onBlur: this.validateExecutor,\n      name: \"executor\",\n      onChange: this.handleChange,\n      value: executor,\n      className: `${this.hintError(execError)} ${classes.selectStyle}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 12\n      }\n    }, users.map(({\n      id,\n      name\n    }) => /*#__PURE__*/React.createElement(\"option\", {\n      key: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, name))), /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"priority\",\n      placeholder: \"\\u041F\\u0440\\u0438\\u043E\\u0440\\u0438\\u0442\\u0435\\u0442\",\n      onKeyUp: this.validatePriority,\n      onBlur: this.validatePriority,\n      onChange: this.handleChange,\n      value: priority,\n      className: `${this.hintError(priorError)} ${classes.textareaStyle} ${classes.textareaPriority}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(InputBtn, {\n      onClick: this.addTask,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 12\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: `${this.popupHint(descrError)} ${classes.hint} ${classes.hintDesc}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 10\n      }\n    }, descrError), /*#__PURE__*/React.createElement(\"div\", {\n      className: `${this.popupHint(execError)} ${classes.hint} ${classes.hintExec}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 10\n      }\n    }, execError), /*#__PURE__*/React.createElement(\"div\", {\n      className: `${this.popupHint(priorError)} ${classes.hint} ${classes.hintPrior}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 10\n      }\n    }, priorError));\n  }\n\n}\n\nexport default TodoInput;","map":{"version":3,"sources":["C:/Users/Grechka_Mi/Documents/react-express-example-master/frontend/src/TodoApp/components/todoInput/todoInput.js"],"names":["React","Component","InputBtn","classes","TodoInput","state","task","id","description","executor","priority","descrError","execError","priorError","handleChange","e","setState","target","name","value","validateDescription","validateExecutor","validatePriority","length","hintError","hintValid","popupHint","addTask","preventDefault","props","Date","getTime","render","users","bodyForm","textareaStyle","textareaDescription","selectStyle","map","textareaPriority","hint","hintDesc","hintExec","hintPrior"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport { InputBtn } from '../todoBtns/todoBtns';\r\n\r\nimport classes from './todoInput_style';\r\n\r\nclass TodoInput extends Component {\r\n   state = {\r\n     task: {\r\n      id: '',\r\n      description: '',\r\n      executor: '',\r\n      priority: '',\r\n     },\r\n     descrError: 'initial',\r\n     execError: 'initial',\r\n     priorError: 'initial',\r\n   };\r\n\r\n   handleChange = (e) => {\r\n      this.setState({\r\n        task: {[e.target.name]: e.target.value},\r\n      })\r\n   };\r\n\r\n   validateDescription = () => {\r\n     const {description} = this.state;\r\n     let descrError = (description === '')? 'Введите описание': '';\r\n      this.setState({ descrError });\r\n   };\r\n   validateExecutor = () => {\r\n     const {executor} = this.state;\r\n     let execError = (executor === '' || executor === 'Не выбрано' )? 'Выберите исполнителя': '';\r\n      this.setState({ execError });\r\n   };\r\n   validatePriority = () => {\r\n     const {priority} = this.state;\r\n     let priorError = (+priority.length > 0 && priority >= 0 && priority <= 10)? '': 'Задайте приоритет от 0 до 10';\r\n       this.setState({ priorError });\r\n   };\r\n   hintError = (name) => {\r\n     return(name === 'initial'? '': name !== '' ? classes.hintError :classes.hintValid);\r\n   };\r\n   popupHint = (name) => {\r\n     return(name === 'initial'? '': name !== '' ? classes.popupHint :'');\r\n   };\r\n\r\n\r\n   addTask = (e) => {\r\n     e.preventDefault();\r\n     const {description, executor, priority, descrError, execError, priorError} = this.state;\r\n     const {addTask} = this.props;\r\n     \r\n      if((!descrError && description !== '') && (!execError && executor !== '') && (!priorError && priority !== '')) {\r\n\r\n        addTask((new Date()).getTime(), description, executor, priority);\r\n\r\n        this.setState({\r\n          description: '',\r\n          executor: '',\r\n          priority: '',\r\n          descrError: 'initial',\r\n          execError: 'initial',\r\n          priorError: 'initial',\r\n        })\r\n      }\r\n      if(description === '') {\r\n        this.setState({descrError: 'Введите описание' })\r\n      }\r\n      if(executor === '') {\r\n        this.setState({execError: 'Выберите исполнителя' })\r\n      }\r\n      if(priority === '') {\r\n        this.setState({priorError: 'Задайте приоритет от 0 до 10' })\r\n      }\r\n    };\r\n\r\n   render(){\r\n     const {users} = this.props;\r\n     const {task, descrError, execError, priorError} = this.state;\r\n     const {description, executor, priority} = {task};\r\n\r\n     return(\r\n       <div className={classes.bodyForm}>\r\n         <form>\r\n           <textarea\r\n           name='description'\r\n           placeholder='Описание'\r\n           value={description}\r\n           onKeyUp={this.validateDescription}\r\n           onBlur={this.validateDescription}\r\n           onChange={this.handleChange}\r\n           className={`${this.hintError(descrError)} ${classes.textareaStyle} ${classes.textareaDescription}`}\r\n           />\r\n           <select onBlur={this.validateExecutor} name='executor' onChange={this.handleChange} value={executor} className={`${this.hintError(execError)} ${classes.selectStyle}`}>\r\n              {users.map(({id, name}) => (\r\n                <option key={id}>{name}</option>\r\n             ))}\r\n           </select>\r\n           <textarea\r\n           name='priority'\r\n           placeholder='Приоритет'\r\n           onKeyUp={this.validatePriority}\r\n           onBlur={this.validatePriority}\r\n           onChange={this.handleChange}\r\n           value={priority}\r\n           className={`${this.hintError(priorError)} ${classes.textareaStyle} ${classes.textareaPriority}`}\r\n           />\r\n           <InputBtn onClick={this.addTask}/>\r\n         </form>\r\n         <div className={`${this.popupHint(descrError)} ${classes.hint} ${classes.hintDesc}`}>{descrError}</div>\r\n         <div className={`${this.popupHint(execError)} ${classes.hint} ${classes.hintExec}`}>{execError}</div>\r\n         <div className={`${this.popupHint(priorError)} ${classes.hint} ${classes.hintPrior}`}>{priorError}</div>\r\n       </div>\r\n     );\r\n   }\r\n}\r\n\r\n\r\nexport default TodoInput;\r\n"]},"metadata":{},"sourceType":"module"}