{"ast":null,"code":"import { USERS_LOADED, USERS_REQUESTED, USERS_ERROR, TASKS_LOADED } from '../../constants';\nimport { usersLoaded, tasksLoaded, usersError } from '../actions/actionCreator';\nexport const usersReducer = (state = {}, {\n  type,\n  users\n}) => {\n  switch (type) {\n    case USERS_LOADED:\n      return users;\n\n    default:\n      return state;\n  }\n};\nexport const tasksReducer = (state = [], {\n  type,\n  tasks\n}) => {\n  switch (type) {\n    case TASKS_LOADED:\n      return tasks;\n\n    default:\n      return state;\n  }\n};\nexport const loadUsers = () => async dispatch => {\n  await fetch(\"/api/users\").then(res => res.json()).then(users => dispatch(setUsers(users))).catch(err => dispatch(usersError(err)));\n};\nexport const loadTasks = () => async dispatch => {\n  const tasks = await fetch(\"/api/tasks\").then(res => res.json());\n  dispatch(setTasks(tasks));\n};\nexport const saveTask = task => async dispatch => {\n  await fetch(\"/api/tasks\", {\n    method: \"POST\",\n    headers: {\n      'Accept': 'application/json',\n      'Content-type': 'application/json'\n    },\n    body: JSON.stringify(task)\n  }).then(res => res.json()).then(res => dispatch(setTasks(res)));\n};\nexport const changePriority = (id, nameAction) => async dispatch => {\n  await fetch(`/api/tasks/${id}`, {\n    method: \"PUT\",\n    headers: {\n      'Accept': 'application/json',\n      'Content-type': 'application/json'\n    },\n    body: JSON.stringify({\n      nameAction\n    })\n  }).then(res => res.json()).then(res => dispatch(setTasks(res)));\n};\nexport const removeTask = id => async dispatch => {\n  await fetch(`/api/tasks/${id}`, {\n    method: \"DELETE\"\n  }).then(res => res.json()).then(res => dispatch(setTasks(res)));\n};","map":{"version":3,"sources":["C:/Users/Grechka_Mi/Documents/react-express-example-master/frontend/src/TodoApp/reducers/reducers.js"],"names":["USERS_LOADED","USERS_REQUESTED","USERS_ERROR","TASKS_LOADED","usersLoaded","tasksLoaded","usersError","usersReducer","state","type","users","tasksReducer","tasks","loadUsers","dispatch","fetch","then","res","json","setUsers","catch","err","loadTasks","setTasks","saveTask","task","method","headers","body","JSON","stringify","changePriority","id","nameAction","removeTask"],"mappings":"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","sourcesContent":["import {USERS_LOADED, USERS_REQUESTED, USERS_ERROR, TASKS_LOADED, } from '../../constants';\r\nimport {usersLoaded, tasksLoaded, usersError} from '../actions/actionCreator';\r\n\r\nexport const usersReducer = (state = {}, {type, users}) => {\r\n  switch (type) {\r\n    case USERS_LOADED: \r\n      return users;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const tasksReducer = (state = [], { type, tasks }) => {\r\n  switch (type) {\r\n    case TASKS_LOADED:\r\n      return tasks\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const loadUsers = () => async (dispatch) => {\r\n  await fetch(\"/api/users\")\r\n  .then(res => res.json())\r\n  .then(users => dispatch(setUsers(users)))\r\n  .catch(err => dispatch(usersError(err)));\r\n} \r\n\r\nexport const loadTasks = () => async (dispatch) => {\r\n  const tasks = await fetch(\"/api/tasks\").then(res => res.json())\r\n  dispatch(setTasks(tasks))\r\n}\r\n\r\nexport const saveTask = (task) => async (dispatch) => {\r\n  await fetch(\"/api/tasks\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-type': 'application/json'\r\n    },\r\n    body: JSON.stringify(task)\r\n  })\r\n  .then(res => res.json())\r\n  .then(res => dispatch(setTasks(res)))\r\n}\r\n\r\nexport const changePriority = (id, nameAction) => async (dispatch) => {\r\n  await fetch(`/api/tasks/${id}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-type': 'application/json'\r\n    },\r\n    body: JSON.stringify({nameAction})\r\n  })\r\n  .then(res => res.json())\r\n  .then(res => dispatch(setTasks(res)))\r\n}\r\n\r\nexport const removeTask = (id) => async (dispatch) => {\r\n  await fetch(`/api/tasks/${id}`, {\r\n    method: \"DELETE\",\r\n  })\r\n  .then(res => res.json())\r\n  .then(res => dispatch(setTasks(res)))\r\n}\r\n"]},"metadata":{},"sourceType":"module"}